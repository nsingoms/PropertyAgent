@page "/register"
@inject IAuthServices AuthenticationService
@inject NavigationManager NavigationManager

<EditForm Model="model" OnValidSubmit="RegisterAsync" class="col-md-4">
    <div class="mb-3">
        <label class="form-label">Email Address</label>
        <InputText @bind-Value="model.Email" class="form-control"></InputText>
    </div>
     <div class="mb-3">
        <label class="form-label">Password</label>
        <InputText typeof="password" @bind-Value="model.Password" class="form-control"></InputText>
    </div>
     <div class="mb-3">
        <label class="form-label">Confirm Password</label>
        <InputText typeof="password" @bind-Value="model.ConfirmPassword" class="form-control"></InputText>
    </div>
     <div class="mb-3">
       <button type="submit" class="btn btn-success btn-lg m-3">Register</button>
    </div>
</EditForm>

@code {
    RegisterDto model = new();
   


    async Task RegisterAsync()
    {
  
          var result = await AuthenticationService.RegisterUserAsync(model);
				if(!result.IsSuccessfulRegistration)
				  {
				  
                  }
                else
				 {
					NavigationManager.NavigateTo("/");
				 }          
        
    }
}
